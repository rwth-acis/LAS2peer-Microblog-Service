(function(){var o,s,n,t,u,h,c,i,l,a,v,f,e,r;n=i5.las2peer.jsAPI;e=i5.las2peer.microblog;typeof gadgets!="undefined"&&gadgets!==null&&(l=function(n){if(n.action==="MICROBLOG_SELECTED")return u(n.data)},a=new n.IWCManager(l));f=new n.Login(n.LoginTypes.HTTP_BASIC);f.setUserAndPassword(clientDefaults.userName,clientDefaults.userPassword);r=new n.RequestSender(clientDefaults.address,f);i=!1;t="";$(document).ready(function(){return c()});c=function(){return h()};h=function(){return $("#addEntry").click(function(){return s()})};s=function(){return i||t.length===0?0:(e.ElementGenerator.generateMultilineTextfield($("#content")),$("#sendEntryButton").click(function(){return o()}),i=!0,$("#enterBlogEntry").focus())};o=function(){var n;return n=$("#enterBlogEntry").val().trim(),i=!1,$("#textfieldBox").remove(),n.length>0?r.sendRequest("post","blogs/"+t,n,function(){return u(t)}):void 0};u=function(i){return t=i,$("#content").html(""),r.sendRequest("get","blogs/"+i,"",function(t){var u,i,f,o,s;return o=$.parseXML(t),u=$(o),$("#header .title").text(u.find("resource").attr("name")),f=[],i=[],s=function(n){var t;return t=$.parseXML(n),i[0]=$(t).find("resource")},u.find("child").each(function(t){return f[t]=new n.Request("get","entries/"+$(this).attr("id"),"",function(n){var r;return r=$.parseXML(n),i[t]=$(r).find("resource")})}),r.sendRequestsAsync(f,function(){return e.ElementGenerator.generateEntryElements(i,v,$("#content"))})})};v=function(n){if(typeof gadgets!="undefined"&&gadgets!==null)return a.sendIntent("MICROBLOG_ENTRY_SELECTED",n)}}).call(this);
/*
//# sourceMappingURL=microblog-viewer.min.js.map
*/